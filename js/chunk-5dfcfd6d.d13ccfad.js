(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dfcfd6d"],{"7b2d":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("div",{attrs:{id:"myMap"}}),e("el-button",{staticClass:"btn",attrs:{type:"primary",size:"large",title:"点击返回上一级"},on:{click:t.upside}},[t._v(t._s(t.adName))])],1)},r=[],s=(a("14d9"),a("bc3a")),i=a.n(s);let l=null;var n={name:"about",data(){return{optionMap:{tooltip:{show:!1},geo:[{map:"china",aspectScale:1,zoom:.9,layoutCenter:["50%","50%"],layoutSize:"180%",show:!0,roam:!1,label:{show:!1,color:"#fff"},itemStyle:{areaColor:{type:"linear",x:1200,y:0,x2:0,y2:0,colorStops:[{offset:0,color:"rgba(3,27,78,0.75)"},{offset:1,color:"rgba(58,149,253,0.75)"}],global:!0},borderColor:"#c0f3fb",borderWidth:.8},emphasis:{itemStyle:{show:!1,color:"#fff",areaColor:"rgba(0,254,233,0.6)"},label:{show:!0,color:"#fff"}}},{type:"map",map:"china",zlevel:-1,aspectScale:1,zoom:.9,layoutCenter:["50%","51%"],layoutSize:"180%",roam:!1,silent:!0,itemStyle:{borderWidth:1,borderColor:"rgba(58,149,253,0.8)",shadowColor:"rgba(172, 122, 255,0.5)",shadowOffsetY:5,shadowBlur:15,areaColor:"rgba(5,21,35,0.1)"}},{type:"map",map:"china",zlevel:-2,aspectScale:1,zoom:.9,layoutCenter:["50%","52%"],layoutSize:"180%",roam:!1,silent:!0,itemStyle:{borderWidth:1,borderColor:"rgba(58,149,253,0.6)",shadowColor:"rgba(65, 214, 255,0.6)",shadowOffsetY:5,shadowBlur:15,areaColor:"rgba(5,21,35,0.1)"}},{type:"map",map:"china",zlevel:-3,aspectScale:1,zoom:.9,layoutCenter:["50%","53%"],layoutSize:"180%",roam:!1,silent:!0,itemStyle:{borderWidth:1,borderColor:"rgba(58,149,253,0.4)",shadowColor:"rgba(29, 111, 165,1)",shadowOffsetY:15,shadowBlur:10,areaColor:"rgba(5,21,35,0.1)"}},{type:"map",map:"china",zlevel:-4,aspectScale:1,zoom:.9,layoutCenter:["50%","54%"],layoutSize:"180%",roam:!1,silent:!0,itemStyle:{borderWidth:5,borderColor:"rgba(5,9,57,0.8)",shadowColor:"rgba(29, 111, 165,0.8)",shadowOffsetY:15,shadowBlur:10,areaColor:"rgba(5,21,35,0.1)"}}],series:[{type:"effectScatter",coordinateSystem:"geo",data:[]}]},publicUrl:"https://geo.datav.aliyun.com/areas_v3/bound/",level:0,historyData:[],adName:"中国",alladcode:""}},methods:{async formatJson(t){return t.features.forEach(t=>{t.properties&&"海南省"==t.properties.name&&(t.geometry.coordinates=t.geometry.coordinates.slice(0,1))}),t.features=t.features.filter(t=>"100000_JD"!==t.properties.adcode),t},async initChart(){let t=await this.getGeoJson("all.json");this.alladcode=t.data;let e=await this.getGeoJson("100000_full.json"),a=await this.formatJson(e.data);this.initEcharts(a,"china")},formatChart(t,e){this.adName="china"==e?"中国":e,this.$echarts.registerMap(e,t),this.optionMap.geo.forEach(t=>{t.map=e,t.layoutSize="china"==e?"180%":"100%"}),l.clear(),l.setOption(this.optionMap)},initEcharts(t,e){this.formatChart(t,e),l.hideLoading(),window.addEventListener("resize",()=>{l.resize()}),this.level++,this.historyData.push({geoJson:t,name:e}),l.off("click"),l.on("click",t=>{let e=this.alladcode.filter(e=>e.name===t.name)[0].adcode,o=["460400","460300","441900","442000","620200"],r=e+"_full.json";("00"!=e.toString().slice(-2)||o.includes(e.toString()))&&(r=e+".json"),this.getGeoJson(r).then(e=>{this.initEcharts(e.data,t.name)}).catch(t=>{this.level=0,this.historyData=[],this.initEcharts(a("2ec2"),"china")})})},async getGeoJson(t){return await i.a.get(this.publicUrl+t)},upside(){if(this.historyData.length<=1)return;this.level--,this.historyData.pop();let t=this.historyData[this.level-1];this.formatChart(t.geoJson,t.name)}},watch:{"$store.state.isCollapse":{handler(t,e){setTimeout(()=>{l.resize()},500)}}},mounted(){l=this.$echarts.init(document.getElementById("myMap")),l.showLoading({text:"加载中...",textColor:"#fff",color:"#fff",maskColor:"rgba(0 ,0 ,0 ,0.3 )",zlevel:0}),this.initChart()},destroyed(){l&&l.clear()}},h=n,c=(a("f538"),a("2877")),d=Object(c["a"])(h,o,r,!1,null,null,null);e["default"]=d.exports},d779:function(t,e,a){},f538:function(t,e,a){"use strict";a("d779")}}]);
//# sourceMappingURL=chunk-5dfcfd6d.d13ccfad.js.map