{"version":3,"sources":["webpack:///./src/views/echarts3.vue","webpack:///src/views/echarts3.vue","webpack:///./src/views/echarts3.vue?ff47","webpack:///./src/views/echarts3.vue?0ef9","webpack:///./src/views/echarts3.vue?1307"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","upside","_v","_s","adName","staticRenderFns","myChartMap","charTimer","name","data","optionMap","tooltip","show","geo","map","aspectScale","zoom","layoutCenter","layoutSize","roam","label","color","itemStyle","areaColor","type","x","y","x2","y2","colorStops","offset","global","borderColor","borderWidth","emphasis","zlevel","silent","shadowColor","shadowOffsetY","shadowBlur","series","effect","period","trailLength","symbol","symbolSize","lineStyle","width","opacity","curveness","coordinateSystem","position","formatter","effectType","showEffectOn","rippleEffect","scale","brushType","publicUrl","level","historyData","alladcode","resData","methods","chinaGeoJson","features","forEach","v","properties","geometry","coordinates","slice","filter","item","adcode","geoJson","getGeoJson","formatChinaGeoJson","formatJson","rich","b","backgroundColor","image","require","padding","fontSize","align","initEcharts","filterLines","currentData","dataLines","center","lonLat","value","push","coords","highLightPoint","index","key","flag","e","formatChart","isPointInMultiPolygon","$echarts","registerMap","clear","setOption","clearInterval","length","i","setInterval","hideLoading","window","addEventListener","resize","off","params","componentType","clickRegionCode","areaJson","adcodeArr","regJson","toString","includes","then","regionGeoJson","catch","err","jsonName","axios","get","pop","upData","watch","handler","newVal","oldVal","setTimeout","mounted","init","document","getElementById","showLoading","text","textColor","maskColor","initChart","destroyed","component"],"mappings":"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","file":"js/chunk-711363c2.eb921b2a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('div',{attrs:{\"id\":\"myMap\"}}),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"点击返回上一级\"},on:{\"click\":_vm.upside}},[_vm._v(_vm._s(_vm.adName))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <div id=\"myMap\"></div>\n    <el-button type=\"primary\" size=\"mini\" title=\"点击返回上一级\" class=\"btn\" @click=\"upside\">{{ adName }}</el-button>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { isPointInMultiPolygon } from '@/util/echartTool.js'\nlet myChartMap = null //地图\nlet charTimer = null // 点位轮播\nexport default {\n  name: 'about',\n  data() {\n    return {\n      optionMap: {\n        tooltip: {\n          show: false,\n        },\n        geo: [\n          {\n            map: 'china',\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '50%'],\n            layoutSize: '180%',\n            show: true,\n            roam: false,\n            label: {\n              show: false,\n              color: '#fff',\n            },\n            itemStyle: {\n              areaColor: {\n                type: 'linear',\n                x: 1200,\n                y: 0,\n                x2: 0,\n                y2: 0,\n                colorStops: [\n                  {\n                    offset: 0,\n                    color: 'rgba(3,27,78,0.75)',\n                  },\n                  {\n                    offset: 1,\n                    color: 'rgba(58,149,253,0.75)',\n                  },\n                ],\n                global: true, // 缺省为 false\n              },\n              borderColor: '#c0f3fb',\n              borderWidth: 0.8,\n            },\n            emphasis: {\n              itemStyle: {\n                show: false,\n                color: '#fff',\n                areaColor: 'rgba(0,254,233,0.6)',\n              },\n              label: {\n                show: true,\n                color: '#fff',\n              },\n            },\n          },\n          // 重影\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -1,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '51%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 1,\n              borderColor: 'rgba(58,149,253,0.8)',\n              shadowColor: 'rgba(172, 122, 255,0.5)',\n              shadowOffsetY: 5,\n              shadowBlur: 15,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -2,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '52%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 1,\n              borderColor: 'rgba(58,149,253,0.6)',\n              shadowColor: 'rgba(65, 214, 255,0.6)',\n              shadowOffsetY: 5,\n              shadowBlur: 15,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -3,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '53%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 1,\n              borderColor: 'rgba(58,149,253,0.4)',\n              shadowColor: 'rgba(29, 111, 165,1)',\n              shadowOffsetY: 15,\n              shadowBlur: 10,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -4,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '54%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 5,\n              borderColor: 'rgba(5,9,57,0.8)',\n              shadowColor: 'rgba(29, 111, 165,0.8)',\n              shadowOffsetY: 15,\n              shadowBlur: 10,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n        ],\n        series: [\n          {\n            type: 'lines', // 飞线图\n            zlevel: 2,\n            effect: {\n              show: true,\n              period: 3, //箭头指向速度，值越小速度越快\n              trailLength: 0.03, //特效尾迹长度[0,1]值越大，尾迹越长重\n              symbol: 'arrow', //箭头图标\n              symbolSize: 6, //图标大小\n            },\n            lineStyle: {\n              color: '#EE5652',\n              width: 1, //尾迹线条宽度\n              opacity: 1, //尾迹线条透明度\n              curveness: 0.3, //尾迹线条曲直度\n            },\n            data: [],\n            // tooltip: {\n            //   trigger: 'none', // 去除鼠标移到线上的弹框\n            // },\n            symbol: ['none', 'circle'], //飞线起点终点点位样式\n            symbolSize: 10, // 飞线起点终点点位大小\n          },\n          {\n            type: 'effectScatter',\n            zlevel: 3,\n            coordinateSystem: 'geo',\n            emphasis: {\n              label: {\n                show: true,\n                position: 'top',\n                color: '#fff',\n                formatter: '{b|{b}}',\n              },\n            },\n            label: {\n              show: false,\n              position: 'top',\n              color: '#fff',\n            },\n            data: [],\n            symbol: 'circle',\n            symbolSize: [20, 10],\n            itemStyle: {\n              color: 'orange',\n              shadowBlur: 10,\n              shadowColor: 'orange',\n            },\n            effectType: 'ripple',\n            showEffectOn: 'render', //emphasis移入显示动画，render一开始显示动画\n            rippleEffect: {\n              scale: 5,\n              brushType: 'stroke',\n            },\n          },\n        ],\n      },\n      publicUrl: 'https://geo.datav.aliyun.com/areas_v3/bound/',\n      level: 0,\n      historyData: [],\n      adName: '中国',\n      alladcode: '',\n      resData: [],\n    }\n  },\n  methods: {\n    // 南沙诸岛以缩略图展示\n    async formatJson(chinaGeoJson) {\n      chinaGeoJson.features.forEach((v) => {\n        if (v.properties && v.properties.name == '海南省') {\n          v.geometry.coordinates = v.geometry.coordinates.slice(0, 1)\n        }\n      })\n      // 过滤掉海南诸岛边界线\n      chinaGeoJson.features = chinaGeoJson.features.filter((item) => item.properties.adcode !== '100000_JD')\n      return chinaGeoJson\n    },\n    // 初始化\n    async initChart() {\n      // 获取地图name对应的adcode行政区划编码\n      let geoJson = await this.getGeoJson('all.json')\n      this.alladcode = geoJson.data\n      let chinaGeoJson = await this.getGeoJson('100000_full.json')\n      let formatChinaGeoJson = await this.formatJson(chinaGeoJson.data)\n      // 鼠标移入点位的弹窗\n      let rich = {\n        b: {\n          color: '#fff',\n          backgroundColor: {\n            image: require('../../public/home/point.png'),\n          },\n          padding: [20, 30],\n          fontSize: 14,\n          align: 'center',\n        },\n      }\n      this.optionMap.series[1].emphasis.label.rich = rich\n      this.optionMap.series[1].label.rich = rich\n      this.initEcharts(formatChinaGeoJson, 'china')\n    },\n    // 格式化点位飞线数据\n    filterLines(currentData) {\n      let dataLines = []\n      let center = [120.537612, 31.276282]\n      currentData.forEach((v) => {\n        let lonLat = [v.value[0], v.value[1]]\n        dataLines.push({\n          coords: [lonLat, center],\n        })\n        // dataLines.push([\n        //   {\n        //     coord: lonLat, // 起始点\n        //     value: 0,\n        //   },\n        //   {\n        //     coord: center, // 中心点\n        //   },\n        // ])\n      })\n      return dataLines\n    },\n    // 点位颜色高亮\n    highLightPoint(currentData, index) {\n      currentData.forEach((v, key) => {\n        let flag = key == index ? 'aqua' : 'orange'\n        v.itemStyle = {\n          color: flag,\n          shadowColor: flag,\n        }\n        // v.zlevel = key == index ? 10 : 3\n      })\n      this.optionMap.series[1].label.formatter = (e) => {\n        return e.name === currentData[index].name ? `{b|${e.name}}` : ''\n      }\n    },\n    // 格式图表\n    formatChart(geoJson, name) {\n      // 过滤出当前地图的点位\n      let currentData = this.resData.filter((v) => {\n        return isPointInMultiPolygon([v.value[0], v.value[1]], geoJson.features)\n      })\n      this.adName = name == 'china' ? '中国' : name\n      this.$echarts.registerMap(name, geoJson)\n      this.optionMap.geo.forEach((v) => {\n        v.map = name\n        v.layoutSize = name == 'china' ? '180%' : '100%'\n      })\n      this.optionMap.series[0].data = this.filterLines(currentData)\n      this.optionMap.series[1].data = currentData\n      // 点位颜色高亮\n      this.highLightPoint(currentData, 0)\n      this.optionMap.series[1].label.show = true\n      myChartMap.clear()\n      myChartMap.setOption(this.optionMap)\n      if (charTimer) {\n        clearInterval(charTimer)\n        charTimer = null\n      }\n      // 点位大于2个才循环轮播\n      if (currentData.length > 1) {\n        let i = 0\n        charTimer = setInterval(() => {\n          i++\n          if (i >= currentData.length) i = 0\n          this.highLightPoint(currentData, i)\n          myChartMap.setOption(this.optionMap)\n        }, 1000 * 3)\n      }\n    },\n    //echarts绘图\n    initEcharts(geoJson, name) {\n      this.formatChart(geoJson, name)\n      myChartMap.hideLoading()\n      window.addEventListener('resize', () => {\n        myChartMap.resize()\n      })\n      this.level++\n      this.historyData.push({ geoJson, name })\n      myChartMap.off('click')\n      myChartMap.on('click', (params) => {\n        // 点击的是当前地图\n        if (params.componentType != 'geo') return\n        let clickRegionCode = this.alladcode.filter((areaJson) => areaJson.name === params.name)[0].adcode\n        // 没有区县的地级市,东莞,中山,儋州,三沙,嘉峪关\n        let adcodeArr = ['460400', '460300', '441900', '442000', '620200']\n        let regJson = `${clickRegionCode}_full.json`\n        // 区县或者没有区县的地级市\n        if (clickRegionCode.toString().slice(-2) != '00' || adcodeArr.includes(clickRegionCode.toString())) {\n          regJson = `${clickRegionCode}.json`\n        }\n        this.getGeoJson(regJson)\n          .then((regionGeoJson) => {\n            this.initEcharts(regionGeoJson.data, params.name)\n          })\n          .catch((err) => {\n            this.level = 0\n            this.historyData = []\n            this.initEcharts(require('@/util/china.json'), 'china')\n          })\n      })\n    },\n    //获取地图json数据\n    async getGeoJson(jsonName) {\n      return await axios.get(this.publicUrl + jsonName)\n    },\n    // 返回上一级\n    upside() {\n      if (this.historyData.length <= 1) return\n      this.level--\n      this.historyData.pop()\n      let upData = this.historyData[this.level - 1]\n      this.formatChart(upData.geoJson, upData.name)\n    },\n  },\n  watch: {\n    '$store.state.isCollapse': {\n      handler(newVal, oldVal) {\n        setTimeout(() => {\n          myChartMap.resize()\n        }, 500)\n      },\n    },\n  },\n  mounted() {\n    myChartMap = this.$echarts.init(document.getElementById('myMap'))\n    myChartMap.showLoading({\n      text: '加载中...',\n      textColor: '#fff',\n      color: '#fff',\n      maskColor: 'rgba(0 ,0 ,0 ,0.3 )',\n      zlevel: 0,\n    })\n    this.resData = [\n      {\n        name: '广州市',\n        value: [113.2644, 23.1291],\n      },\n      {\n        name: '成都市',\n        value: [104.0657, 30.6598],\n      },\n      {\n        name: '苏州市',\n        value: [120.6195, 31.2995],\n      },\n      {\n        name: '北京市',\n        value: [116.404, 39.9042],\n      },\n      {\n        name: '连云港市',\n        value: [119.1676, 34.5934],\n      },\n      {\n        name: '南京市',\n        value: [118.7674, 32.0415],\n      },\n      {\n        name: '杭州市',\n        value: [120.1535, 30.2874],\n      },\n      {\n        name: '乌鲁木齐市',\n        value: [87.6168, 43.7928],\n      },\n      {\n        name: '拉萨市',\n        value: [91.11, 29.97],\n      },\n      {\n        name: '西安市',\n        value: [108.953, 34.2779],\n      },\n      {\n        name: '南宁市',\n        value: [108.32006, 22.82402],\n      },\n    ]\n    this.initChart()\n  },\n  destroyed() {\n    if (myChartMap) myChartMap.clear()\n    if (charTimer) {\n      clearInterval(charTimer)\n      charTimer = null\n    }\n  },\n}\n</script>\n<style lang=\"less\">\n.about {\n  // background: #000469;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  background: url('../../public/home/bg4.jpg');\n}\n#myMap {\n  width: 100%;\n  height: 100%;\n}\n.btn {\n  position: absolute;\n  top: 0px;\n  left: 10px;\n}\n.map-point {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100px;\n  height: 100px;\n  background: url('../../public/home/bg4.jpg') no-repeat;\n  background-size: 100%;\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts3.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts3.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./echarts3.vue?vue&type=template&id=ff2f47ac\"\nimport script from \"./echarts3.vue?vue&type=script&lang=js\"\nexport * from \"./echarts3.vue?vue&type=script&lang=js\"\nimport style0 from \"./echarts3.vue?vue&type=style&index=0&id=ff2f47ac&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts3.vue?vue&type=style&index=0&id=ff2f47ac&prod&lang=less\""],"sourceRoot":""}