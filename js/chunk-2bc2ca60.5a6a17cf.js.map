{"version":3,"sources":["webpack:///./src/util/echartTool.js","webpack:///./public/home/point.png","webpack:///./src/views/echarts4.vue","webpack:///src/views/echarts4.vue","webpack:///./src/views/echarts4.vue?7a1e","webpack:///./src/views/echarts4.vue?7ed7","webpack:///./src/views/echarts4.vue?8624"],"names":["isPointInMultiPolygon","point","multiPolygons","polygon","coordinates","geometry","isPointInAnyPolygon","polygons","isPointInPolygon","x","y","inside","i","j","length","xi","yi","xj","yj","intersect","module","exports","render","_vm","this","_c","_self","staticClass","attrs","on","upside","_v","_s","adName","staticRenderFns","myChartMap","name","data","optionMap","tooltip","show","geo","map","aspectScale","zoom","layoutCenter","layoutSize","roam","label","color","itemStyle","areaColor","type","x2","y2","colorStops","offset","global","borderColor","borderWidth","emphasis","zlevel","silent","shadowColor","shadowOffsetY","shadowBlur","series","effect","period","trailLength","symbol","symbolSize","lineStyle","width","opacity","curveness","coordinateSystem","position","formatter","effectType","showEffectOn","rippleEffect","scale","brushType","publicUrl","level","historyData","alladcode","resData","methods","chinaGeoJson","features","forEach","v","properties","slice","filter","item","adcode","geoJson","getGeoJson","formatChinaGeoJson","formatJson","rich","b","backgroundColor","image","require","padding","fontSize","align","initEcharts","filterLines","currentData","dataLines","center","lonLat","value","push","coords","formatChart","$echarts","registerMap","clear","setOption","hideLoading","window","addEventListener","resize","off","params","componentType","clickRegionCode","areaJson","adcodeArr","regJson","toString","includes","then","regionGeoJson","catch","err","jsonName","axios","get","pop","upData","watch","handler","newVal","oldVal","setTimeout","mounted","init","document","getElementById","showLoading","text","textColor","maskColor","initChart","destroyed","component"],"mappings":"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","file":"js/chunk-2bc2ca60.5a6a17cf.js","sourcesContent":["// 判断当前经纬度是否在规定区域内\nexport function isPointInMultiPolygon(point, multiPolygons) {\n  for (let polygon of multiPolygons) {\n    let coordinates = polygon.geometry.coordinates\n    if (isPointInAnyPolygon(point, coordinates)) {\n      return true\n    }\n  }\n  return false\n}\nexport function isPointInAnyPolygon(point, polygons) {\n  for (let polygon of polygons) {\n    if (isPointInPolygon(point, polygon[0])) {\n      return true\n    }\n  }\n  return false\n}\nexport function isPointInPolygon(point, polygon) {\n  // 射线法判断点是否在多边形内部\n  let x = point[0],\n    y = point[1]\n  let inside = false\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    let xi = polygon[i][0],\n      yi = polygon[i][1]\n    let xj = polygon[j][0],\n      yj = polygon[j][1]\n    let intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi\n    if (intersect) {\n      inside = !inside\n    }\n  }\n  return inside\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAAxCAYAAADDY2cuAAAPBUlEQVR4Xu1ca4xd11X+9uuccx/z8sx4PK0Te4idxJYIKY6QIpAYSFWVquFHW6MEhKoghAAJhBAvp9DGSVwifsAfpEooapVUNLFpg5AKrZAgU9qQJvE4Tpq4SWslE9u1x573zL33PPYLrX3OHY8fjRzVUkzvXM3xGXnunbl3f2etb61vffswbD5uuBVg7/qOvP/xP2fM33Cf5kZ6Qz/B2l256P4hPonPcWBGAh25hkTU0OYWgsUoXIrcGdxsUiyZE3jdAvsdNgG6eDl4z/dhWvRhWFxAR9aq9aMntGB9AzXr0DArWLVh/dhv2MuvpUtB8V5MYkYtYzkRiGsCPAG84hCCXuhgLcC0h005os4CkJ/ELg3G3I10kb5v78V7tg/TUkNFCaLEw9QleAxI6WA4h3QMXFsg9zCpxUAKnNXT2Gc2XtgXQQkR8ukoR6fuwfsd7IBEXHcwMQfjFvAECOBSD6wxmJUUrvUqFnOwXzHv20LcSH/Ye74LJ9U2pHUH2e/B+h18g4PFDCxc2AysAHyWA2sCenkArvWfuCMDY+sRsw7KpPdyGcebCZJBBr71wytDH/4F33d/xNgo/bJAIC6c3JvzneW//86P3jx7wbRt5owrHP2k5BjXY0HDeXlZeDBIMBFz2egT0b13bhnfv2dkZy3iyjMwRnjQ8ngUZ7n+nyf6z39Rw56V4AuncWZtBpN5N1o2gPJ2soZ0SEBs/cjKwMc/JkYeeuKHsyvvtPPCO+adcZ5Z5q2BW1rV+gdnWp3Oiil85pw3zsF5D3hPf7WnOIbRYnP6YkwyziPBRV3I8dE42bmtVotiziE8Z5RuJGM1xfl9E1sHeIyj/zB46i8MilmFeP453Na6FBTv2SRONDoQowJ+/MHlnf/09ZnFsX+dmV+zOZzNvXUa3mvnXG6sSb12bW1cx1qnnfGFpTjxcIRIrxVlFAOEC2cQnDHFhUi4lA0peJ0rnkhJQDEJxmMIGTPRXxPi6V++ffsh//b955rFawbywjReWeqSfhkp3rM7cXxAojYm4ccfWZn4l8deOVMcP9dOTdtb3XbGZtagMNYX1rjUWJ874zJjvbEOdFiChdJiD5bKjFGCYpCcokXwRHEWS8ESIVkUDsEiKVRTSNmAVDUmnrrn9u1P6fMHToys/ZdF7VwNEwtTjAVuXgfll/C9QYNkG4cbP7gyceTz06eyY6fbbb3mdTFfFLajCwIFmg7rPJ0L42ApdVXpyxKfUBrrktCNxMLX+b2sJ/4ACMB4AAWCcyjOmZICMRWuXCBSBJSUQyqOBkQUNZk8/NHbb37anD/w2kjrWQE+m6E1N83u0leA4hFt1bBbD63c8syjL5xJj8202sVSkRcLRebbWqPQBEQJjNEOxCXW0LlMXZ7SVw8+CBAifMGoe2CQkkMKDikFSnAEEiXVUBJHW2Si+rn66r17dh42F/78ldGVKQt+AejMXwHKPkz3CzS3ABg+tLzzPx7+zun02Mzaml7Mc72YZ75dVKBog0K7EhhHZwdnPCyBEnilt4ieOnfBGRgHJLUisgsKRQgPoERKohZJORjHcjhKogEVPfOJvRPPZBf++OXxxW9lMAsD+NDSFenrDrxaV1D9AqzvgbfG//0LL86yH55ZbemlPLdLee7bOYFikFOkaIu8oCgJqSwAYojsKXW58NUTj1ANc7oIWeivqcYiYJTkUBFHTIBEApGUSGIhCJTBKJEDcfzYRyY+eFSt/t5rE63vAsnKNKZblxI9gL3+9aiGpCbBkgtf6jw+t6R35itp7taK3K6mBTpaI88pfRlkhYUuHLS1MMZBOw9rHXwApLdSGKd+kFIXpTDGEVWREikCQyCO6JBIIiX6a4o1o5j3J9G24Thu7BYPDE76HxRIs2nsS6/oU+C9+DWclCkK9dzf5Y/bjrmVdfLCUZ/SyjXSTCMrSkAKOqqIKaj6ovTlXai+Aig9hAsnkhcMAhQtJZcoxQPJEzAlIOFgjZrizTjyzSjitVgmN+M3f/a3srcLRGaj1LJBZgmKMAOmOD848IRPi1uRUdrKDNpZEQBJMwKFOKUCRjuUoJAsdpFTeiJ3bfiQoUehkjhiAZRIEBgXQamRlBgpNCPF6jWFWqJQj6J4KPpU9idvvAPs9xv1w6tL83/90peR6d1oZxQhBdq5QZ5pdAqDnL4vLDICJhA+pTHiF4qWild6CBXmGbgsKy8qiYncpeKoUfqKBJK4ipREoh4r1AmQRKEWReDykzj08+9cvlpXB+XAS08iK3ajkxVIU41OrtGhKKFDG6SFLfmFgOk2jyQeU0lMvNJDDSSnPqUqhyltEaeokLbKUrgW00FET2AQMBFqNfo+QsI/iYN3nbp2UNJ8FzodjXZeoBMipkxfaeAVg5wAyV1oIEP66lZgvUQopexb9iiCQRGnKI4kEDwPwBAg4aDoCOcIjZpCg0ARn7p2UP7qhSdBoBCXdKpIoYghfsm1QZZTSWyQGRdSWGgkrS+llqos7pUM1iV5SWWxLNMXHXEsEMsuIBKNpASmTF9Reaj3CEonvyUAEiKFgKHUFdIY8QlxS8kp1LfYwkN7FzgFvTZaqaIkVF+yBCSiKKHURVVXLELaovTVqJWR0qT0FRMo+99bpKyDQtFCJJ+ZcKYoIVDoTGVxIHtdpi+qwHqmc+ymgquBIstIIT6hcrhO4FDKut6gUJ9C6WsTlMsS8yYoNyBTbYKyCUpJ9BWnbKavH3NBvJ+Rskn0/w9AoZKYyuHN6qtsHC8pibvVV7ckvl7VVzvbhTR083SYILdcbB4r/auomscgtVTNI5XFPfSgWUro6PmGjj6oxKVCXHbxspRYfpLm8cALT6Kjd6FDc5TQo2ikqUGaVzJL6Owt8qAS02yFdC+a1ZNq31ug0PVXyvYMghpHUomrjp5EyXgjKDEpxBFIKW6+V5klCJI5qcQVKNU8hbSvILNkJLOU00cSJEPzSPMUQ26zHgMliJHlLCXILARKXEVKECTDKDhES5BZut18AOUaBMnSKc7wN9NPsjzf7UliaacaaUFq8YZIWVeIS1GSjBM0eSSZxV3hV/7pzmXrQ64qfUU0Cg5yC8n2pVoc0leQ8EmMlKwRR54EyYF4P/7sjncu92JvHHKtu8W//ejil3xW7PatIkc7LcJ8vjt5TDMid1KKy9RVipEXZZZemc9vUFnKGT2BQi4WAoXSF5E9yfdVpNDkkUTIZjV9rEdRYzvuu+l36m+fwF57VS/xPn9UDWN7tIaF+Pv/qB9PV/WEXc0Kv5bntkXcUlTjYEpdJEhWmhcBQkMuR0RPJN9Ds5QuMGQxCtYiGnRVgISZSjWjT0iQjCTrSyKaz/NmHNcHkmjwFvbpbffWT24B8m9gV3GFbfVuPJ9IjDY1TOPO/+078s03FvvOnW117HKR2eWMxsI6kHsYB9OMXpP/q5ylkHHCVemrFwXJbqTQ9FEpihjye1WRQtFCEn6ixEAcicEkFgNxfN9d4yPzo9nvLu8tjjvw1nO4rd1NY+sOyV/Em80MdkhADn12/qZvfv6509nxk8ureqnIzEKe+aAQk+eLCJ5ME5S+yPtVlcM0Rwner17LX1R9kb2ockfKMOwSwWLUdbOQxagWSzmUxGI4TqLBOPnKJ/ZOfN0s/OGrH1j+tgVfehGzK90tJeugTOL4QI6+EUBvfXh54t8eef5M59hbK61iIc/0fJb6FpnxjAmer9LNUrojdXBJktu+3FNE6atXCjCyq4I2OnQtRmRdrYheknmCzHiUxoJDUqnhOFbDSU0Nqfhrv75n4oid/9PXRtMpi3TOIF+8wiF5N04MeagxwI49svIzX330xVPpsZl2q1go8mI+T33HlLMUAiX4iYNdlXxf5IqkHqV0R/aGk3hjRVmBQmNhms/T1ocuMJwipgQlVlKRO3IkTuJBro58bM/OI3buL783sjLFIc5nuG1umtGmrA0GbwLFAOMSctvDKzsPHzp6Knv5VLuVr1it53Vmg22VGsXKxVICUhq8ieCpPyEvcdhW1COtCjkkQ7TQ/hTq7InoZWXyJl4hDxidlWCJlBQp8ZCMo37Iwx/ds+OwOf/gqyPtZzn4bIFbL1wBSpm+6tsY/AfIdf+3x0/lL/+o3TEtWN2yhetY47W2PrfW5yZsgyjd91QWEygECFVeFSC90NmHDUMVMKECY5xRpCjJeSIEi4VkFCUqbIWQakBK1WBKNZl4+p7bb3rKzh14fUv63wX07FUN3kT0HmIrgxv/zPLNX/nim+ejb51Z6ZjcW5vC0hY6b7ylTUM+tcZ0jPEdQ/9vw04uipJec0eWiJT/kP4lOWeSc55wKepSsLqQMpGSQOGKc5FAyBoTMgL/2q/uvekLbvb33xpY+26K7PzL+NBit1dZbx7v9qdrDovDCo2x314e/aMxre578NjMhflUG1eAAKGtdd4VsDa1Rq8ZY1OrXeos7fBCqUP25oy+1EEYAYKIc0k7uZpSyqZQvMaFkGBM0NY7MKkYf2DX2OA92wfbn+2bud9BnCvA5qbx5TWwh0Lpug7KPu+VwBv9tBVCQmz7g6Xxz+yJ6/dktBGI1puVeYkKq1dmW53Hps6cnZ0rcpuXEQR6HiOZ5adbVbnqpwubUcm2Ck4RUW8K+fGf2zL0wJ3bRhoxD7uCw0ZVBiSCsyWjT/+zm334+4PZUQM3F6Fv+Xlspx3CYY0vl1mSGINNBjNkwQdruR8ea6sPMsY459wxy4xwyNLULp442zo3f86srp2NsvaZ3CLuFXZ/l4tOxWLLDqcGd0T1HaNsdPtQY8wL17TMRxQp9MqOsMtzzfSsA19xkEsAVmvY1enuTbkUFACT/lm5iC2xQlKLoRoO7bpEFFmYal8yN92N+TF8S6IvncJL+mp3TejBeAl7R+nmBgmaiYGuO8QNQNcUoBxYdXMDujkEMo2iTTeIWEORncBeukHEesl6+R0nQn23CyelgI22wCqGWOYoRB1ABu8dpAGkjnC+uNzC35NAXP6hvRe78A25HTtUDkTd9UvAmYG2BpEF1nSEsSLGdj0FkBh5SQ9xdYP3xZu9BAqb3JDmpkqG6R69tZXuWq+6sH4HGbCXTWKUAZPVK6cwhUkHHATwOdr+cNWG7t3vYnStb2Lzedd1BTZBua7LeX1+2f8ByDqSuffFKG8AAAAASUVORK5CYII=\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('div',{attrs:{\"id\":\"myMap\"}}),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"点击返回上一级\"},on:{\"click\":_vm.upside}},[_vm._v(_vm._s(_vm.adName))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <div id=\"myMap\"></div>\n    <el-button type=\"primary\" size=\"mini\" title=\"点击返回上一级\" class=\"btn\" @click=\"upside\">{{ adName }}</el-button>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { isPointInMultiPolygon } from '@/util/echartTool.js'\nlet myChartMap = null //地图\nexport default {\n  name: 'about',\n  data() {\n    return {\n      optionMap: {\n        tooltip: {\n          show: false,\n        },\n        geo: [\n          {\n            map: 'china',\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '50%'],\n            layoutSize: '180%',\n            show: true,\n            roam: false,\n            label: {\n              show: false,\n              color: '#fff',\n            },\n            itemStyle: {\n              areaColor: {\n                type: 'linear',\n                x: 1200,\n                y: 0,\n                x2: 0,\n                y2: 0,\n                colorStops: [\n                  {\n                    offset: 0,\n                    color: 'rgba(3,27,78,0.75)',\n                  },\n                  {\n                    offset: 1,\n                    color: 'rgba(58,149,253,0.75)',\n                  },\n                ],\n                global: true, // 缺省为 false\n              },\n              borderColor: '#c0f3fb',\n              borderWidth: 0.8,\n            },\n            emphasis: {\n              itemStyle: {\n                show: false,\n                color: '#fff',\n                areaColor: 'rgba(0,254,233,0.6)',\n              },\n              label: {\n                show: true,\n                color: '#fff',\n              },\n            },\n          },\n          // 重影\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -1,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '51%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 1,\n              borderColor: 'rgba(58,149,253,0.8)',\n              shadowColor: 'rgba(172, 122, 255,0.5)',\n              shadowOffsetY: 5,\n              shadowBlur: 15,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -2,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '52%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 1,\n              borderColor: 'rgba(58,149,253,0.6)',\n              shadowColor: 'rgba(65, 214, 255,0.6)',\n              shadowOffsetY: 5,\n              shadowBlur: 15,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -3,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '53%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 1,\n              borderColor: 'rgba(58,149,253,0.4)',\n              shadowColor: 'rgba(29, 111, 165,1)',\n              shadowOffsetY: 15,\n              shadowBlur: 10,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n          {\n            type: 'map',\n            map: 'china',\n            zlevel: -4,\n            aspectScale: 1,\n            zoom: 0.9,\n            layoutCenter: ['50%', '54%'],\n            layoutSize: '180%',\n            roam: false,\n            silent: true,\n            itemStyle: {\n              borderWidth: 5,\n              borderColor: 'rgba(5,9,57,0.8)',\n              shadowColor: 'rgba(29, 111, 165,0.8)',\n              shadowOffsetY: 15,\n              shadowBlur: 10,\n              areaColor: 'rgba(5,21,35,0.1)',\n            },\n          },\n        ],\n        series: [\n          {\n            type: 'lines', // 飞线图\n            zlevel: 2,\n            effect: {\n              show: true,\n              period: 3, //箭头指向速度，值越小速度越快\n              trailLength: 0.03, //特效尾迹长度[0,1]值越大，尾迹越长重\n              symbol: 'arrow', //箭头图标\n              symbolSize: 6, //图标大小\n            },\n            lineStyle: {\n              color: '#EE5652',\n              width: 1, //尾迹线条宽度\n              opacity: 1, //尾迹线条透明度\n              curveness: 0.3, //尾迹线条曲直度\n            },\n            data: [],\n            symbol: ['none', 'circle'], //飞线起点终点点位样式\n            symbolSize: 10, // 飞线起点终点点位大小\n          },\n          {\n            type: 'effectScatter',\n            zlevel: 3,\n            coordinateSystem: 'geo',\n            emphasis: {\n              label: {\n                show: true,\n                position: 'top',\n                color: '#fff',\n                formatter: '{b|{b}}',\n              },\n            },\n            data: [],\n            symbol: 'circle',\n            symbolSize: [20, 10],\n            itemStyle: {\n              color: 'orange',\n              shadowBlur: 10,\n              shadowColor: 'orange',\n            },\n            effectType: 'ripple',\n            showEffectOn: 'render', //emphasis移入显示动画，render一开始显示动画\n            rippleEffect: {\n              scale: 5,\n              brushType: 'stroke',\n            },\n          },\n        ],\n      },\n      publicUrl: 'https://geo.datav.aliyun.com/areas_v3/bound/',\n      level: 0,\n      historyData: [],\n      adName: '中国',\n      alladcode: '',\n      resData: [],\n    }\n  },\n  methods: {\n    // 南沙诸岛以缩略图展示\n    async formatJson(chinaGeoJson) {\n      chinaGeoJson.features.forEach((v) => {\n        if (v.properties && v.properties.name == '海南省') {\n          v.geometry.coordinates = v.geometry.coordinates.slice(0, 1)\n        }\n      })\n      // 过滤掉海南诸岛边界线\n      chinaGeoJson.features = chinaGeoJson.features.filter((item) => item.properties.adcode !== '100000_JD')\n      return chinaGeoJson\n    },\n    // 初始化\n    async initChart() {\n      // 获取地图name对应的adcode行政区划编码\n      let geoJson = await this.getGeoJson('all.json')\n      this.alladcode = geoJson.data\n      let chinaGeoJson = await this.getGeoJson('100000_full.json')\n      let formatChinaGeoJson = await this.formatJson(chinaGeoJson.data)\n      // 鼠标移入点位的弹窗\n      let rich = {\n        b: {\n          color: '#fff',\n          backgroundColor: {\n            image: require('../../public/home/point.png'),\n          },\n          padding: [20, 30],\n          fontSize: 14,\n          align: 'center',\n        },\n      }\n      this.optionMap.series[1].emphasis.label.rich = rich\n      this.initEcharts(formatChinaGeoJson, 'china')\n    },\n    // 格式化点位飞线数据\n    filterLines(currentData) {\n      let dataLines = []\n      let center = [120.537612, 31.276282]\n      currentData.forEach((v) => {\n        let lonLat = [v.value[0], v.value[1]]\n        dataLines.push({\n          coords: [lonLat, center],\n        })\n        // dataLines.push([\n        //   {\n        //     coord: lonLat, // 起始点\n        //     value: 0,\n        //   },\n        //   {\n        //     coord: center, // 中心点\n        //   },\n        // ])\n      })\n      return dataLines\n    },\n    // 格式图表\n    formatChart(geoJson, name) {\n      // 过滤出当前地图的点位\n      let currentData = this.resData.filter((v) => {\n        return isPointInMultiPolygon([v.value[0], v.value[1]], geoJson.features)\n      })\n      this.adName = name == 'china' ? '中国' : name\n      this.$echarts.registerMap(name, geoJson)\n      this.optionMap.geo.forEach((v) => {\n        v.map = name\n        v.layoutSize = name == 'china' ? '180%' : '100%'\n      })\n      this.optionMap.series[0].data = this.filterLines(currentData)\n      this.optionMap.series[1].data = currentData\n      myChartMap.clear()\n      myChartMap.setOption(this.optionMap)\n    },\n    //echarts绘图\n    initEcharts(geoJson, name) {\n      this.formatChart(geoJson, name)\n      myChartMap.hideLoading()\n      window.addEventListener('resize', () => {\n        myChartMap.resize()\n      })\n      this.level++\n      this.historyData.push({ geoJson, name })\n      myChartMap.off('click')\n      myChartMap.on('click', (params) => {\n        // 点击的是当前地图\n        if (params.componentType != 'geo') return\n        let clickRegionCode = this.alladcode.filter((areaJson) => areaJson.name === params.name)[0].adcode\n        // 没有区县的地级市,东莞,中山,儋州,三沙,嘉峪关\n        let adcodeArr = ['460400', '460300', '441900', '442000', '620200']\n        let regJson = `${clickRegionCode}_full.json`\n        // 区县或者没有区县的地级市\n        if (clickRegionCode.toString().slice(-2) != '00' || adcodeArr.includes(clickRegionCode.toString())) {\n          regJson = `${clickRegionCode}.json`\n        }\n        this.getGeoJson(regJson)\n          .then((regionGeoJson) => {\n            this.initEcharts(regionGeoJson.data, params.name)\n          })\n          .catch((err) => {\n            this.level = 0\n            this.historyData = []\n            this.initEcharts(require('@/util/china.json'), 'china')\n          })\n      })\n    },\n    //获取地图json数据\n    async getGeoJson(jsonName) {\n      return await axios.get(this.publicUrl + jsonName)\n    },\n    // 返回上一级\n    upside() {\n      if (this.historyData.length <= 1) return\n      this.level--\n      this.historyData.pop()\n      let upData = this.historyData[this.level - 1]\n      this.formatChart(upData.geoJson, upData.name)\n    },\n  },\n  watch: {\n    '$store.state.isCollapse': {\n      handler(newVal, oldVal) {\n        setTimeout(() => {\n          myChartMap.resize()\n        }, 500)\n      },\n    },\n  },\n  mounted() {\n    myChartMap = this.$echarts.init(document.getElementById('myMap'))\n    myChartMap.showLoading({\n      text: '加载中...',\n      textColor: '#fff',\n      color: '#fff',\n      maskColor: 'rgba(0 ,0 ,0 ,0.3 )',\n      zlevel: 0,\n    })\n    this.resData = [\n      {\n        name: '广州市',\n        value: [113.2644, 23.1291],\n      },\n      {\n        name: '成都市',\n        value: [104.0657, 30.6598],\n      },\n      {\n        name: '苏州市',\n        value: [120.6195, 31.2995],\n      },\n      {\n        name: '北京市',\n        value: [116.404, 39.9042],\n      },\n      {\n        name: '连云港市',\n        value: [119.1676, 34.5934],\n      },\n      {\n        name: '南京市',\n        value: [118.7674, 32.0415],\n      },\n      {\n        name: '杭州市',\n        value: [120.1535, 30.2874],\n      },\n      {\n        name: '乌鲁木齐市',\n        value: [87.6168, 43.7928],\n      },\n      {\n        name: '拉萨市',\n        value: [91.11, 29.97],\n      },\n      {\n        name: '西安市',\n        value: [108.953, 34.2779],\n      },\n      {\n        name: '南宁市',\n        value: [108.32006, 22.82402],\n      },\n    ]\n    this.initChart()\n  },\n  destroyed() {\n    if (myChartMap) myChartMap.clear()\n  },\n}\n</script>\n<style lang=\"less\">\n.about {\n  // background: #000469;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  background: url('../../public/home/bg4.jpg');\n}\n#myMap {\n  width: 100%;\n  height: 100%;\n}\n.btn {\n  position: absolute;\n  top: 0px;\n  left: 10px;\n  font-size: 30px;\n}\n.map-point {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100px;\n  height: 100px;\n  background: url('../../public/home/bg4.jpg') no-repeat;\n  background-size: 100%;\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts4.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts4.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./echarts4.vue?vue&type=template&id=5070b8c1\"\nimport script from \"./echarts4.vue?vue&type=script&lang=js\"\nexport * from \"./echarts4.vue?vue&type=script&lang=js\"\nimport style0 from \"./echarts4.vue?vue&type=style&index=0&id=5070b8c1&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts4.vue?vue&type=style&index=0&id=5070b8c1&prod&lang=less\""],"sourceRoot":""}